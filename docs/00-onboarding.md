### p2phelper 온보딩 가이드

프로젝트를 처음 접하는 개발자가 빠르게 프로젝트를 이해하고 실무에 활용할 수 있도록 핵심만 담았습니다. 자세한 내용은 각 문서로 이동해 주세요.

---

### 무엇을 만드는가

- **목표**: 비트코인 P2P 거래를 보다 빠르고 안전하게 할 수 있도록 지원하는 텔레그램 봇을 개발합니다.
- **역할**: 구매자-판매자 매칭, 가격 조회, 거래 상태 전파, 입금 확인, 송금 확정, 관리자 운영 도구 제공.

---

### 전체 그림 (Mental Model)

1. 텔레그램에서 유저가 명령을 보냅니다
2. 봇이 명령을 파싱해 핸들러로 라우팅합니다
3. 비즈니스 로직이 DB(JSON 파일)를 읽고/쓰며 거래를 진행합니다
4. 필요한 경우 외부 시세/알림을 호출합니다
5. 결과를 텔레그램 메시지로 응답합니다.

---

### 빠른 시작

1. Node.js 20 이상 설치
2. 프로젝트 루트에 `.env.sample`를 복사해 `.env.dev` 생성 후 토큰/시크릿 설정
3. `npm install`
4. 개발: `npm run dev` (브랜치가 `main`이 아니면 자동으로 개발 모드)
5. 운영: `npm run build` → `npm start`

자세한 설치는 `README.md`와 `04-config-and-env.md` 참고.

---

### 핵심 파일/모듈

- `src/index.ts`: 진입점. 텔레그램 봇 명령 초기화, WS 초기화, 시작 로그.
- `src/bot-commands/`: 명령어 라우팅과 각 핸들러.
- `src/biz/`: 비즈니스 로직(거래/등록/시세/알림/DB 등).
- `src/utils/`: 공용 유틸과 로거, HTTP 래퍼.
- `src/types/`: 프로젝트 타입 정의.
- `db.json`, `db-dev.json`: 환경별 로컬 저장소(JSON DB).

---

### 다음으로 읽을 문서

- `01-folder-roles.md`: 폴더별 역할과 어디를 수정해야 하는지
- `02-project-structure.md`: 엔트리 → 명령 라우팅 → 비즈니스 로직 흐름
- `03-architecture-flow.md`: 주요 유스케이스(판매자 등록/구매/정산) 순서도
- `04-config-and-env.md`: 환경변수와 `config.ts` 설명
- `05-telegram-commands.md`: 지원하는 명령어 전체 목록과 예시
- `06-dev-guide.md`: 스크립트, 디버깅, 로깅 팁
- `07-testing.md`: 테스트/커버리지 실행 방법
- `08-troubleshooting.md`: 자주 만나는 문제와 해결법
- `09-security.md`: 토큰/시크릿 안전 가이드
- `10-glossary.md`: 도메인/서비스 용어 정리

---

### 문의

문서로 해결되지 않는 내용은 `src/bot-commands/handlers`의 실제 구현을 함께 보며 이해하면 가장 빠릅니다. 필요 시 운영/개발 채팅방(`config.ts`의 `CHAT_ID`)으로 실시간 로그를 받을 수 있습니다.
