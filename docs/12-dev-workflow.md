### 개발 워크플로우

프로젝트를 개발/운영하는 표준 워크플로우입니다. 신규 기능 개발부터 릴리스까지의 흐름을 요약합니다.

---

### 환경 준비

- Node 20.x 이상, `npm install`
- 로컬 개발: `npm run dev` (`.env.dev` 사용)
- 빌드: `npm run build`, 실행: `npm start` (`.env` 사용)

---

### 브랜치/버전 전략

- 기본: `develop`(통합), `main`(배포)
- 기능: `feature/<설명>` → `develop`으로 PR
- 버그: `fix/<설명>` → `develop`으로 PR
- 긴급: `hotfix/<설명>` → `main`과 `develop`에 동시 반영
- 태그/릴리스 노트는 배포 시점에 작성 (필요 시)

---

### 작업 순서

1. 이슈 생성/할당 → 범위/완료조건 정의
2. 브랜치 생성: `feature/...` 또는 `fix/...`
3. 단위 구현 → 단위 테스트 작성/수정
4. 로컬 테스트: `npm test`, 커버리지 확인(선택)
5. 변경 분리: 리팩터/기능/버그 수정 커밋을 분리하여 기록
6. PR 생성: 테스트 결과/동작 방법/리스크 명시
7. 리뷰 반영 → 승인 → `develop`에 머지

---

### 테스트

- 프레임워크: Jest
- 실행: `npm test`, 워치: `npm run test:watch`
- 커버리지: `npm run test:coverage` → `coverage/lcov-report/index.html`
- 선호 사항: 핵심 비즈니스 로직(`src/biz/*`) 우선 테스트

---

### 로깅/모니터링

- `if-logger` 사용. 에러는 사용자 축약 메시지, 관리자 채널 상세 메시지로 분리 전송
- 운영/개발 채널은 `src/biz/config.ts`에서 관리

---

### 구성/비밀값 관리

- `.env.dev`(개발), `.env`(운영) 분리
- 민감 정보는 PR/로그/스크린샷에 노출 금지
- `ENC_SECRET` 등 키는 샘플로만 문서화

---

### 배포 개요

- `develop` 안정화 후 `main`에 머지 → 태그(필요 시) → 배포
- 배포 전 체크리스트: 빌드 성공, 주요 플로우 수동 점검, 환경 변수 확인, 롤백 계획

---

### 사고 대응(요약)

- 장애 감지 → 재현 → 임시 완화 패치(`hotfix`) → 원인 분석 → 재발 방지 조치
